# 需求分析文档

***

## 一、人员类型
### 游客
操作：   
1、注册用户    
2、登录用户
### 顾客
操作：  
1、查询图书  
2、购买图书
### 销售人员
操作：  
1、查询图书  
2、购买图书   
3、进货  
4、图书信息录入  
5、图书信息修改  
6、用户创建
### 店长
操作：  
1、查询图书  
2、购买图书   
3、进货  
4、图书信息录入  
5、图书信息修改  
6、用户创建  
7、查询采购信息  
8、查询销售情况  
9、查询盈利信息  
10、查看销售人员工作情况报告  
11、查看系统整体工作日志

## 二、业务流程
游客可以通过注册或登录成为顾客。  
顾客可以查询图书信息或者购买图书。购买图书会改变销售情况和盈利信息。  
销售人员可以进行顾客的操作。除此之外，销售人员还能够录入和修改图书信息。销售人员进货后会改变采购信息和盈利信息。
销售人员可以创建用户。每个销售人员有一个自己的工作情况报告，该操作人员进行的所有操作都会被录入工作情况报告中。  
店长可以进行顾客和销售人员的所有操作，但店长没有自己的工作情况报告。店长可以查询采购信息，销售情况，盈利信息，还可以查询每个销售人员的工作情况报告。  
所有的操作都会记录下时间并被保存在系统整体工作日志中。只有店长可以查询系统整体工作日志。

## 三、数据流程
每个用户信息有用户名，身份。这些信息在注册用户和创建用户时被记录。  
每种图书包含的信息有ISBN号，书名，作者，关键字，库存量，单价。这些信息在图书信息录入和图书信息修改时被保存在图书信息里。用户查询图书时可以通过ISBN 号、作者名字、关键字、书名中的任意组合进行查询。用户购买图书时通过给定的 ISBN 号和购买数量来购买图书。  
用户购买图书的信息包括购买图书的ISBN号、数量、单价以及购买时间等，被记录在采购信息和销售情况中。每次购书后的数量和单价相乘算出价格录入盈利信息的支出中。图书进货的单价和数量相乘得到的价格录入盈利信息的支出中。收入和支出之差即为利润。店主可以查询采购信息、销售情况和盈利信息。  
销售人员的每次操作会被记录在工作情况报告中，包括每次操作类型和操作对象信息。店主可以查看每个销售人员的工作情况报告。  
整个系统每次操作的所有信息都会保存在系统的整体工作日志中，店主可以查看整体工作日志。

     